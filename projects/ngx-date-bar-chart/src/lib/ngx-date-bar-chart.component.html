<div [id]="internalId" class="ngx-date-bar-chart" (window:resize)="resize()">
  <svg>
    <!-- single bars -->
    <g *ngIf="processedData && !!yScale && !!xScale">
      <g
        [attr.transform]="transformYAxis"
        *ngFor="let entry of processedData; index as i"
        ngx-date-bar-chart-single-bar
        [entry]="entry"
        [xScale]="xScale"
        [yScale]="yScale"
        [yDomain]="yDomain"
        [barWidth]="barWidth"
        [index]="i"
        [rounded]="rounded"
        [barRadiusFunction]="barRadiusFunction"
        [colors]="colors"
      ></g>
    </g>

    <!-- bar series -->
    <g *ngIf="processedDataSeries && !!yScale && !!xScale">
      <g
              [attr.transform]="transformYAxis"
              *ngFor="let entry of processedDataSeries; index as i"
              ngx-date-bar-series-bar
              [entry]="entry"
              [xScale]="xScale"
              [yScale]="yScale"
              [yDomain]="yDomain"
              [barWidth]="barWidth"
              [indexOfEntry]="i"
              [rounded]="rounded"
              [barRadiusFunction]="barRadiusFunction"
              [colors]="colors"
      ></g>
    </g>

    <!-- TODO: stacked -->

    <g class="axis x-axis" [attr.transform]="transformXAxis"></g>
    <g class="axis y-axis" [attr.transform]="transformYAxis"></g>
  </svg>
</div>
